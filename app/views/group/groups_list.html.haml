- title _("Prometheus 2.0 - Groups")
- url "/packages"

:javascript
  offImg = new Image(); offImg.src = "/images/plus.gif";
  onImg  = new Image(); onImg.src = "/images/minus.gif";

  function showGrp(dirid) {
    if(el = document.getElementById("dir" + dirid)) {
      if (el.style.display == "none") {
        el.style.display = "block";
        document.images['img' + dirid].src = onImg.src;
      } else {
        el.style.display = "none";
        document.images['img' + dirid].src = offImg.src;
      };
    };
  };

#main-content

  .header= _("Package groups")
  %p.break

    %div{ :style => 'font-size: 12pt;' }
      - index = 0

      - @groups.each do |group|
        - if group.leaf?
          = link_to group.name, group_path(:group => group.name), :class => 'news', :style => 'margin-left: 14px;'
          (#{group.srpms.count})
          %br
        - else
          - index += 1
          %div{ :onclick => "showGrp('#{index}')", :class => 'grplist' }
            = image_tag("plus.gif", :name => "img#{index}", :style => 'text-align: left; margin: 4px 4px 4px 0px; float: left', :size => "10x10", :title => '', :alt => '')
            = group.name
          %div{ :id => "dir#{index}", :class => 'grphid', :style => 'display: none' }
            - group.children.each do |child|
              - if child.leaf?
                = link_to child.name, group_path(:group => group.name, :group2 => child.name), :class => 'news', :style => 'margin-left: 14px;'
                (#{child.srpms.count})
                %br
              - else
                - index += 1
                %div{ :onclick => "showGrp('#{index}')", :class => 'grplist' }
                  = image_tag("plus.gif", :name => "img#{index}", :style => 'text-align: left; margin: 4px 4px 4px 0px; float: left', :size => "10x10", :title => '', :alt => '')
                  = child.name
                %div{ :id => "dir#{index}", :class => 'grphid', :style => 'display: none' }
                  - child.children.each do |c|
                    - if c.leaf?
                      = link_to c.name, group_path(:group => group.name, :group2 => child.name, :group3 => c.name), :class => 'news', :style => 'margin-left: 14px;'
                      (#{c.srpms.count})
                      %br
                    - else
                      TODO

#bottom-offset-l
  #bottom-offset-r
    &nbsp;